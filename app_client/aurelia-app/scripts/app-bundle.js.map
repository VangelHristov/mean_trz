{"version":3,"sources":["app.js","environment.js","main.js","about/about.js","authentication/login.js","/home/vangel/Repositories/mean_trz/app_client/aurelia-app/src/authentication/logout.js","authentication/register.js","companies/add-new.js","companies/details.js","companies/list-all.js","dossiers/add-new.js","dossiers/details.js","dossiers/list-all.js","file-exports/declaration-1.js","file-exports/declaration-6.js","file-exports/noi-file.js","file-exports/notice-62.js","help/help.js","navigation/breadcrumbs.js","navigation/nav-bar.js","navigation/side-menu.js","not-found/not-found.js","resources/index.js","resources/services/authorize-step.js","resources/services/data-users.js","resources/services/user.js"],"names":["App","user","primaryColor","accentColor","errorColor","configureRouter","config","router","title","addPipelineStep","map","route","redirect","name","moduleId","mapUnknownRoutes","logOut","navigateToRoute","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","b","useAll","useDropdownFix","start","then","setRoot","About","message","Login","email","password","Register","users","toast","passwordRepeat","register","create","show","res","_id","AddNew","Details","ListAll","Declaration1","Declaration6","NoiFile","Notice62","Help","Breadcrumbs","registry","load","NavBar","SideMenu","NotFound","AuthorizeStep","run","navigationInstruction","next","getAllInstructions","some","i","settings","auth","isLoggedIn","cancel","DataUsers","of","xhr","withBaseUrl","fetch","method","body","User","_token","localStorage","getItem","_isLoggedIn","login","token","window","setItem","JSON","stringify","removeItem"],"mappings":"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","file":"app-bundle.js","sourcesContent":["'use strict';\n\nimport {AuthorizeStep} from './resources/services/authorize-step';\nimport {User} from './resources/services/user';\nimport {inject} from 'aurelia-framework';\n\n@inject(User)\nexport class App {\n    constructor(user) {\n        this.primaryColor = '#72538f';\n        this.accentColor  = '#8F5A5A';\n        this.errorColor   = '#f44336';\n        this.user         = user;\n    }\n\n    configureRouter(config, router) {\n        config.title = 'ТРЗ';\n        config.addPipelineStep('authorize', AuthorizeStep);\n        config.map([\n            {route: '', redirect: 'about'},\n            {name: 'about', route: 'about', moduleId: 'about/about', title: 'ТРЗ'},\n            {name: 'help', route: 'help', moduleId: 'help/help', title: 'Помощ'}\n        ]);\n        config.mapUnknownRoutes('not-found/not-found');\n        this.router = router;\n    }\n\n    logOut() {\n        this.user.logOut();\n        this.router.navigateToRoute('about');\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n    warnings: {\n        wForgottenReturn: false\n    }\n});\n\nexport function configure(aurelia) {\n    aurelia.use\n           .standardConfiguration()\n           .feature('resources');\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin('aurelia-testing');\n    }\n\n    aurelia.use.plugin('aurelia-materialize-bridge', b => b.useAll().useDropdownFix());\n    aurelia.use.plugin('aurelia-fetch-client');\n    aurelia.start().then(() => aurelia.setRoot());\n}\n","export class About {\n    constructor() {\n        this.message = 'ABOUT';\n    }\n}","'use strict';\n\nimport {bindable} from 'aurelia-framework';\n\nexport class Login {\n    constructor() {\n        this.email    = '';\n        this.password = '';\n    }\n\n    @bindable user = null;\n}",null,"'use strict';\n\nimport {bindable, inject} from 'aurelia-framework';\nimport {DataUsers} from '../resources/services/data-users';\nimport {MdToastService} from 'aurelia-materialize-bridge';\n\n@inject(DataUsers, MdToastService)\nexport class Register {\n    constructor(users, toast) {\n        this.email          = '';\n        this.password       = '';\n        this.passwordRepeat = '';\n        this.users          = users;\n        this.toast          = toast;\n    }\n\n    register() {\n        this.users\n            .create(this.email, this.password)\n            .then(res => this.toast.show(res._id));\n    }\n\n    @bindable user = null;\n}","export class AddNew{\n    constructor(){\n        this.message='ADD NEW';\n    }\n}","export class Details{\n    constructor(){\n        this.message='DETAILS';\n    }\n}","export class ListAll{\n    constructor(){\n        this.message='LIST ALL';\n    }\n}","export class AddNew {\n    constructor() {\n        this.message = 'ADD NEW DOSSIER';\n    }\n}","export class Details{\n    constructor(){\n        this.message='DETAILS DOSSIER';\n    }\n}","export class ListAll{\n    constructor(){\n        this.message='LIST ALL DOSSIERS';\n    }\n}","export class Declaration1{\n\n    constructor(){\n        this.message='DECLARATION 1';\n    }\n}","export class Declaration6{\n\n    constructor(){\n        this.message='DECLARATION 6';\n    }\n}","export class NoiFile{\n\n    constructor(){\n        this.message='NOI FILE';\n    }\n}","export class Notice62{\n\n    constructor(){\n        this.message='Notice 62';\n    }\n}","export class Help {\n    constructor() {\n        this.message = 'HELP';\n    }\n}","\nexport class Breadcrumbs {\n    constructor() {\n        this.registry = {\n            \"title\": \"Breadcrumbs\",\n            \"samples\": {\n                \"basic-use\": {\n                    \"route\": \"about\",\n                    \"files\": [\"html\", \"md\"]\n                },\n                \"second-target\": {\n                    \"route\": \"login\",\n                    \"files\": [\"html\"]\n                }\n            }\n        };\n    }\n\n    configureRouter(config, router) {\n        this.router = router;\n        return this.registry.load(config, 'breadcrumbs');\n    }\n}","'use strict';\n\nimport {bindable} from 'aurelia-framework';\n\nexport class NavBar {\n    @bindable user = null;\n}","export class SideMenu{}","export class NotFound{}","export function configure(config) {\n  //config.globalResources(['services/data-users', 'services/authorize-step', 'services/user']);\n}\n","'use strict';\n\nimport {User} from './user';\nimport {inject} from 'aurelia-framework';\n\n@inject(User)\nexport class AuthorizeStep {\n    constructor(user) {\n        this.user = user;\n    }\n\n    run(navigationInstruction, next) {\n\n        if (navigationInstruction.getAllInstructions().some(i => i.config.settings.auth)) {\n\n            if (!this.user.isLoggedIn) {\n                return next.cancel();\n            }\n        }\n\n        return next();\n    }\n}","'use strict';\n\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {inject, NewInstance} from 'aurelia-framework';\n\n@inject(NewInstance.of(HttpClient))\nexport class DataUsers {\n    constructor(xhr) {\n        this.xhr = xhr.configure(config => config.withBaseUrl('api/users'));\n    }\n\n    create(email, password) {\n        return this.xhr\n                   .fetch('', {\n                       method: 'POST',\n                       body  : json({email, password})\n                   });\n    }\n}","'use strict';\n\nexport class User {\n    constructor() {\n        this._token      = localStorage.getItem('token');\n        this._isLoggedIn = (this._token && this._token !== 'null');\n    }\n\n    get isLoggedIn() {\n        return this._isLoggedIn;\n    }\n\n    login(token) {\n        if (token && token !== 'null') {\n            this._token = token;\n            window.localStorage.setItem('token', JSON.stringify(token));\n            this._isLoggedIn = true;\n        }\n    }\n\n    logOut() {\n        localStorage.removeItem('token');\n        this._token      = null;\n        this._isLoggedIn = false;\n    }\n\n    get token() {\n        return this._token;\n    }\n}"],"sourceRoot":"../src"}