{"version":3,"sources":["app.js","environment.js","main.js","about/about.js","authentication/login.js","/home/vangel/Repositories/mean_trz/app_client/aurelia-app/src/authentication/logout.js","authentication/register.js","companies/add-new.js","companies/details.js","companies/list-all.js","dossiers/add-new.js","dossiers/details.js","dossiers/list-all.js","file-exports/declaration-1.js","file-exports/declaration-6.js","file-exports/noi-file.js","file-exports/notice-62.js","help/help.js","navigation/breadcrumbs.js","navigation/nav-bar.js","navigation/side-menu.js","not-found/not-found.js","resources/index.js","resources/services/authorize-step.js","resources/services/data-users.js","resources/services/user.js"],"names":["App","user","primaryColor","accentColor","errorColor","configureRouter","config","router","title","addPipelineStep","map","route","redirect","name","moduleId","mapUnknownRoutes","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","b","useAll","useDropdownFix","start","then","setRoot","About","message","Login","email","password","Register","db","toast","passwordRepeat","register","create","res","show","catch","err","AddNew","Details","ListAll","Declaration1","Declaration6","NoiFile","Notice62","Help","Breadcrumbs","registry","load","NavBar","SideMenu","NotFound","AuthorizeStep","run","navigationInstruction","next","getAllInstructions","some","i","settings","auth","isLoggedIn","cancel","DataUsers","of","xhr","withBaseUrl","resolve","reject","fetch","method","body","result","User","theRouter","_token","localStorage","getItem","_isLoggedIn","logIn","token","window","setItem","JSON","stringify","logOut","removeItem","navigateToRoute"],"mappings":"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","file":"app-bundle.js","sourcesContent":["'use strict';\n\nimport {AuthorizeStep} from './resources/services/authorize-step';\nimport {User} from './resources/services/user';\nimport {inject} from 'aurelia-framework';\n\n@inject(User)\nexport class App {\n    constructor(user) {\n        this.primaryColor = '#72538f';\n        this.accentColor  = '#8F5A5A';\n        this.errorColor   = '#f44336';\n        this.user         = user;\n    }\n\n    configureRouter(config, router) {\n        config.title = 'ТРЗ';\n        config.addPipelineStep('authorize', AuthorizeStep);\n        config.map([\n            {route: '', redirect: 'about'},\n            {name: 'about', route: 'about', moduleId: 'about/about', title: 'ТРЗ'},\n            {name: 'help', route: 'help', moduleId: 'help/help', title: 'Помощ'}\n        ]);\n        config.mapUnknownRoutes('not-found/not-found');\n        this.router = router;\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n    warnings: {\n        wForgottenReturn: false\n    }\n});\n\nexport function configure(aurelia) {\n    aurelia.use\n           .standardConfiguration()\n           .feature('resources');\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin('aurelia-testing');\n    }\n\n    aurelia.use.plugin('aurelia-materialize-bridge', b => b.useAll().useDropdownFix());\n    aurelia.use.plugin('aurelia-fetch-client');\n    aurelia.start().then(() => aurelia.setRoot());\n}\n","export class About {\n    constructor() {\n        this.message = 'ABOUT';\n    }\n}","'use strict';\n\nimport {bindable} from 'aurelia-framework';\n\nexport class Login {\n    constructor() {\n        this.email    = '';\n        this.password = '';\n    }\n\n    @bindable user = null;\n}",null,"'use strict';\n\nimport {inject} from 'aurelia-framework';\nimport {DataUsers} from '../resources/services/data-users';\nimport {MdToastService} from 'aurelia-materialize-bridge';\nimport {json} from 'aurelia-router';\nimport {User} from '../resources/services/user';\n\n@inject(DataUsers, User, MdToastService)\nexport class Register {\n    constructor(db, user, toast) {\n        this.email          = '';\n        this.password       = '';\n        this.passwordRepeat = '';\n        this.db             = db;\n        this.user           = user;\n        this.toast          = toast;\n    }\n\n    register() {\n        this.db\n            .create(this.email, this.password)\n            .then((res) => this.toast.show(res.message, 5000))\n            .catch((err) => this.toast.show(err, 6000));\n    }\n}","export class AddNew{\n    constructor(){\n        this.message='ADD NEW';\n    }\n}","export class Details{\n    constructor(){\n        this.message='DETAILS';\n    }\n}","export class ListAll{\n    constructor(){\n        this.message='LIST ALL';\n    }\n}","export class AddNew {\n    constructor() {\n        this.message = 'ADD NEW DOSSIER';\n    }\n}","export class Details{\n    constructor(){\n        this.message='DETAILS DOSSIER';\n    }\n}","export class ListAll{\n    constructor(){\n        this.message='LIST ALL DOSSIERS';\n    }\n}","export class Declaration1{\n\n    constructor(){\n        this.message='DECLARATION 1';\n    }\n}","export class Declaration6{\n\n    constructor(){\n        this.message='DECLARATION 6';\n    }\n}","export class NoiFile{\n\n    constructor(){\n        this.message='NOI FILE';\n    }\n}","export class Notice62{\n\n    constructor(){\n        this.message='Notice 62';\n    }\n}","export class Help {\n    constructor() {\n        this.message = 'HELP';\n    }\n}","\nexport class Breadcrumbs {\n    constructor() {\n        this.registry = {\n            \"title\": \"Breadcrumbs\",\n            \"samples\": {\n                \"basic-use\": {\n                    \"route\": \"about\",\n                    \"files\": [\"html\", \"md\"]\n                },\n                \"second-target\": {\n                    \"route\": \"login\",\n                    \"files\": [\"html\"]\n                }\n            }\n        };\n    }\n\n    configureRouter(config, router) {\n        this.router = router;\n        return this.registry.load(config, 'breadcrumbs');\n    }\n}","'use strict';\n\nimport {inject} from 'aurelia-framework';\nimport {User} from '../resources/services/user';\n\n@inject(User)\nexport class NavBar {\n    constructor(user){\n       this.user = user;\n   }\n}","export class SideMenu{}","export class NotFound{}","export function configure(config) {\n  //config.globalResources(['services/data-users', 'services/authorize-step', 'services/user']);\n}\n","'use strict';\n\nimport {User} from './user';\nimport {inject} from 'aurelia-framework';\n\n@inject(User)\nexport class AuthorizeStep {\n    constructor(user) {\n        this.user = user;\n    }\n\n    run(navigationInstruction, next) {\n\n        if (navigationInstruction.getAllInstructions().some(i => i.config.settings.auth)) {\n\n            if (!this.user.isLoggedIn) {\n                return next.cancel();\n            }\n        }\n\n        return next();\n    }\n}","'use strict';\n\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {inject, NewInstance} from 'aurelia-framework';\n\n@inject(NewInstance.of(HttpClient))\nexport class DataUsers {\n    constructor(xhr) {\n        this.xhr = xhr.configure(config => config.withBaseUrl('api/'));\n    }\n\n    create(email, password) {\n        return new Promise((resolve, reject) => {\n            this.xhr\n                .fetch('users', {\n                    method: 'POST',\n                    body  : json({email, password})\n                })\n                .then(result => resolve(result))\n                .catch(err => reject(err));\n        });\n    }\n}","'use strict';\n\nimport {Router} from 'aurelia-router';\nimport {inject} from 'aurelia-framework';\nimport {MdToastService} from 'aurelia-materialize-bridge';\n\n@inject(Router, MdToastService)\nexport class User {\n    constructor(router, toast) {\n        this.theRouter   = router;\n        this.toast       = toast;\n        this._token      = localStorage.getItem('token');\n        this._isLoggedIn = (this._token && this._token !== 'null');\n    }\n\n    get isLoggedIn() {\n        return this._isLoggedIn;\n    }\n\n    logIn(token) {\n        if (token && token !== 'null') {\n            this._token = token;\n            window.localStorage.setItem('token', JSON.stringify(token));\n            this._isLoggedIn = true;\n        } else {\n            this.toast.show('Missing token!!!', 5000);\n        }\n    }\n\n    logOut() {\n        localStorage.removeItem('token');\n        this._token      = null;\n        this._isLoggedIn = false;\n        this.theRouter\n            .navigateToRoute('about')\n            .then(() => this.toast.show('Good bye', 4000));\n    }\n\n    get token() {\n        return this._token;\n    }\n}"],"sourceRoot":"../src"}